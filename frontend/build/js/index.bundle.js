!function(){var e={288:function(){}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";let e=new Swiper(".mySwiper",{spaceBetween:30,loop:!0,keyboard:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:!0,speed:600,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,type:"bullets"}});function t(){const t=window.innerWidth>1400,n=window.innerWidth<1400,o=document.querySelector(".swiper-button-next"),i=document.querySelector(".swiper-button-prev"),a=document.querySelector(".swiper-pagination");t?(e.params.navigation.enabled=!0,e.navigation.destroy(),e.navigation.init(),e.navigation.update(),o.style.display="flex",i.style.display="flex"):(e.params.navigation.enabled=!1,e.navigation.destroy(),o.style.display="none",i.style.display="none"),n?(e.params.pagination.enabled=!0,e.pagination.destroy(),e.pagination.init(),e.pagination.render(),e.pagination.update(),a.style.display="flex"):(e.params.pagination.enabled=!1,e.pagination.destroy(),a.style.display="none")}document.addEventListener("DOMContentLoaded",t),window.addEventListener("resize",t);var o=n(288),i=n.n(o);(function(){const e=document.querySelector(".mobile-nav-btn"),t=document.querySelector(".mobile-nav"),n=document.querySelector(".nav-icon"),o=document.querySelectorAll(".mobile-nav__list-item a");function i(){t.classList.remove("mobile-nav--open"),n.classList.remove("nav-icon--active"),document.body.classList.remove("no-scroll")}e.onclick=function(){t.classList.toggle("mobile-nav--open"),n.classList.toggle("nav-icon--active"),document.body.classList.toggle("no-scroll")},o.forEach((e=>{e.addEventListener("click",(function(e){if(this.getAttribute("href").startsWith("#")){e.preventDefault(),i();const t=this.getAttribute("href"),n=document.querySelector(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}else i()}))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.classList.contains("mobile-nav--open")&&i()}))})(),function(){const e=document.body;let t=0;function n(n){t=window.pageYOffset||document.documentElement.scrollTop,n.style.display="flex",e.classList.add("modal-open"),e.style.position="fixed",e.style.top=`-${t}px`,e.style.width="100%"}function o(n){n.style.display="none",e.classList.remove("modal-open"),e.style.position="",e.style.top="",e.style.width="",window.scrollTo(0,t),n.querySelectorAll("form").forEach((e=>e.reset()))}document.addEventListener("click",(e=>{const t=e.target.closest("[data-toggle-modal]");if(!t)return;e.preventDefault();const i=t.getAttribute("data-toggle-modal"),a=document.getElementById(i);a?"none"!==window.getComputedStyle(a).display?o(a):n(a):console.warn(`Модальное окно с ID "${i}" не найдено.`)})),document.addEventListener("click",(e=>{e.target.classList.contains("modal")&&o(e.target)})),document.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=document.querySelectorAll('.modal[style*="display: block"]');e.length>0&&o(e[0])}})),document.addEventListener("submit",(e=>{const t=e.target;t.classList.contains("contact-form")&&(e.preventDefault(),async function(e){const t=e.querySelector(".btn-submit"),i=t.textContent,a=t.innerHTML;t.disabled=!0,t.innerHTML='\n            <span class="loading-spinner"></span>\n            Отправка...\n        ';try{const t=new FormData(e),i={name:t.get("name"),contact:t.get("contact"),idea:t.get("idea"),timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,pageUrl:window.location.href,referrer:document.referrer,screenResolution:`${window.screen.width}x${window.screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language},a=await fetch("http://127.0.0.1:5000/api/contact",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)}),s=await a.json();if(!a.ok)throw new Error(s.message||`Ошибка сервера: ${a.status}`);const r=e.closest(".modal");r&&o(r),e.reset(),function(){const e=document.getElementById("success-modal");e&&(n(e),setTimeout((()=>{o(e)}),4e3))}()}catch(e){console.error("Ошибка отправки формы:",e),function(e){const t=document.getElementById("error-modal");if(t){const o=t.querySelector(".error-message");o&&(o.textContent=e||"Произошла ошибка при отправке. Попробуйте еще раз."),n(t)}else alert(e||"Произошла ошибка при отправке.")}(e.message)}finally{t.disabled=!1,t.textContent=i,t.innerHTML=a}}(t))}))}(),i()()}()}();